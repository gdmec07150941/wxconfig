webpackJsonp([1],{"2TTy":function(e,n){},"6gwd":function(e,n){},NHnr:function(e,n,t){"use strict";function a(e){t("6gwd")}function r(e){t("qfff")}function o(e){t("2TTy")}Object.defineProperty(n,"__esModule",{value:!0});var s=t("Xxa5"),c=t.n(s),i=t("mvHQ"),u=t.n(i),l=t("exGp"),f=t.n(l),d=t("7+uW"),p={name:"app"},m=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},v=[],h={render:m,staticRenderFns:v},g=h,_=t("VU/8"),b=a,x=_(p,g,!1,b,null,null),I=x.exports,$=t("/ocq"),k=t("Dd8w"),w=t.n(k),U={data:function(){return{}},methods:{toChange:function(e){e!==this.$route.name&&("home"===e?this.$route.push({name:"home"}):this.$route.push({name:"leaguer"}))}},computed:{tab_active:function(){return this.$route.name}}},R=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("section",{attrs:{id:"tab_bar"}},[t("a",{staticClass:"home",class:"home"===e.tab_active?"active":"",attrs:{href:"javascript:void(0);"},on:{click:function(n){e.toChang("home")}}},[e._v("功能")]),e._v(" "),t("a",{staticClass:"leaguer",class:"leaguer"===e.tab_active?"acvite":"",attrs:{href:"javascript:void(0);"},on:{click:function(n){e.toChang("leaguer")}}},[e._v("会员")])])},E=[],L={render:R,staticRenderFns:E},O=L,C=t("VU/8"),F=r,T=C(U,O,!1,F,"data-v-282c9e4d",null),V=T.exports,q=t("NYxO"),y={components:{TarBar:V},data:function(){return{}},computed:w()({},Object(q.b)(["loginInfo","leaguerInfo"])),created:function(){}},N=function(){var e=this,n=e.$createElement;e._self._c;return e._m(0,!1,!1)},j=[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("section",[t("section"),e._v(" "),t("section")])}],S={render:N,staticRenderFns:j},A=S,H=t("VU/8"),D=H(y,A,!1,null,null,null),J=D.exports,M={data:function(){return{}}},W=function(){var e=this,n=e.$createElement;return(e._self._c||n)("h2",[e._v("Leaguer")])},B=[],G={render:W,staticRenderFns:B},P=G,Q=t("VU/8"),X=Q(M,P,!1,null,null,null),Y=X.exports,z=function(){var e=this,n=e.$createElement;return(e._self._c||n)("h1",[e._v("cureRecord")])},K=[],Z={render:z,staticRenderFns:K},ee=Z,ne=t("VU/8"),te=ne(null,ee,!1,null,null,null),ae=te.exports,re=function(){var e=this,n=e.$createElement;return(e._self._c||n)("p",{staticClass:"page-container"},[e._v("404 page not found")])},oe=[],se={render:re,staticRenderFns:oe},ce=se,ie=t("VU/8"),ue=o,le=ie(null,ce,!1,ue,"data-v-4dd87667",null),fe=le.exports;d.a.use($.a);var de=[{path:"/",name:"home",component:J},{path:"/leaguer",name:"leaguer",component:Y},{path:"/404",name:"404",component:fe},{path:"/cureRecord",name:"cureRecord",component:ae},{path:"*",redirect:{path:"/404"}}],pe=new $.a({routes:de}),me=t("mUbh"),ve=t.n(me),he={leaguerInfo:null,unionid:"",openid:"",loginInfo:{message:"尚未登录",status:!1}},ge={saveUnionid:function(e,n){e.unionid=n},saveOpenid:function(e,n){e.openid=n},saveLeaguerInfo:function(e,n){e.leaguerInfo=n},saveLoginInfo:function(e,n){e.loginInfo=n}},_e={};d.a.use(q.a);var be=new q.a.Store({state:he,getters:_e,actions:ve.a,mutations:ge}),xe=t("mtWM"),Ie=t.n(xe),$e=function(e){return Ie.a.get("/api/v1.1/userInfo",{params:e}).then(function(e){return e.data})},ke=this;d.a.config.productionTip=!1;var we=!1;pe.beforeEach(function(){var e=f()(c.a.mark(function e(n,t,a){var r,o,s,i,l,f,d,p,m;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(we){e.next=29;break}if(r=be.commit,o=document.querySelector("#acquire-userId"),s=JSON.parse(o.getAttribute("data")),i=s.unionid,l=s.openid,!i&&""===i){e.next=26;break}return r("saveUnionid",i),r("saveOpenid",l),e.prev=8,e.next=11,$e({unionid:i});case 11:f=e.sent,d=f.code,p=f.data,m=f.message,console.log(p),"ok"===d?p&&(localStorage.setItem("user_info",u()({uid:i,cid:p.ID,name:p.name,no:p.NO})),r("saveLoginInfo",{message:"登录成功",status:!0,code:200}),r("saveLeaguerInfo",p),we=!0):(console.log("login filed!"),r("saveLoginInfo",{message:m,status:!1,code:d})),a(),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(8),console.log(e.t0),r("saveLoginInfo",{message:"登录失败",code:"filed",status:!1});case 24:e.next=27;break;case 26:a();case 27:e.next=30;break;case 29:a();case 30:case"end":return e.stop()}},e,ke,[[8,20]])}));return function(n,t,a){return e.apply(this,arguments)}}()),new d.a({el:"#app",router:pe,template:"<App/>",components:{App:I}})},mUbh:function(e,n){},qfff:function(e,n){}},["NHnr"]);
//# sourceMappingURL=app.ffeea5d1ceb8ed50dad0.js.map